2022-rewriting-itp-draft.pdf